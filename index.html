<!DOCTYPE html>
<html>
<head>
  <title>YouTube Trending Videos</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col s12">
        <div class="content">
          </div>
      </div>
    </div>
  </div>

  <script>
    const apiKey = "AIzaSyCaIcmr1_khFn0wuOgps-ZsV8_V4dTNDk0"; // Replace with your API key

    function fetchTrendingVideos() {
      $.ajax({
        url: `https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails&chart=mostPopular&regionCode=US&key=${apiKey}`,
        success: (data) => {
          data.items.forEach((video) => {
            const videoId = video.id.videoId;
            const title = video.snippet.title;
            const thumbnail = video.snippet.thumbnails.default.url;
            const channelTitle = video.snippet.channelTitle;
            const publishedAt = new Date(video.snippet.publishedAt).toLocaleDateString();
            const viewCount = video.statistics.viewCount;

            const videoCard = `
              <div class="col s12 m6 l4">
                <div class="card">
                  <div class="card-image">
                    <a href="/${videoId}/">
                      <img src="${thumbnail}">
                      <span class="card-title">${title}</span>
                    </a>
                  </div>
                  <div class="card-content">
                    <p>${channelTitle}</p>
                    <p>${publishedAt}</p>
                    <p>${viewCount} views</p>
                  </div>
                </div>
              </div>
            `;

            $('.content').append(videoCard);
          });
        }
      });
    }

    $(document).ready(fetchTrendingVideos);
    
    $(document).ready(function() {
    // Replace 'YOUR_CHANNEL_ID' with your actual channel ID
    var channelId = 'UCjkoy4A5xzKGEEPvJej6L9g';

    // Fetch the channel's videos using YouTube Data API
    $.ajax({
        url: 'https://www.googleapis.com/youtube/v3/search',
        data: {
            part: 'snippet',
            channelId: channelId,
            maxResults: 10, // Adjust the number of videos to display
            key: 'AIzaSyCaIcmr1_khFn0wuOgps-ZsV8_V4dTNDk0' // Replace with your YouTube Data API key
        },
        success: function(data) {
            var videos = data.items;

            // Iterate through the videos and create rows
            $.each(videos, function(index, video) {
                var thumbnailUrl = video.snippet.thumbnails.default.url;
                var videoTitle = video.snippet.title;
                var publishedAt = video.snippet.publishedAt;
                var viewCount = video.snippet.viewCount;

                // Create a row and append it to the container
                var row = $('<div class="row"></div>');

                // Create the image column
                var imageColumn = $('<div class="col s6"></div>');
                var image = $('<div class="image"></div>');
                var imageLink = $('<a href="https://www.youtube.com/watch?v=' + video.id.videoId + '"></a>');
                var imageImg = $('<img src="' + thumbnailUrl + '" alt="' + videoTitle + '">');
                var imageTime = $('<div class="time"></div>').text(video.snippet.publishedAt);
                imageLink.append(imageImg, imageTime);
                image.append(imageLink);
                imageColumn.append(image);
                row.append(imageColumn);

                // Create the text column
                var textColumn = $('<div class="col s6"></div>');
                var text = $('<div class="text"></div>');
                var textLink = $('<a href="https://www.youtube.com/watch?v=' + video.id.videoId + '"></a>');
                var textTitle = $('<h5></h5>').text(videoTitle);
                var textDate = $('<p class="date"></p>').text(video.snippet.publishedAt);
                var textViews = $('<p class="views"></p>').text(video.snippet.viewCount + ' views');
                textLink.append(textTitle, textDate, textViews);
                text.append(textLink);
                textColumn.append(text);
                row.append(textColumn);

                $('#video-container').append(row);
            });
        },
        error: function(error) {
            console.error('Error fetching videos:', error);
        }
    });
});
  </script>
</body>
</html>
